(this["webpackJsonpcornershop-frontend-test"]=this["webpackJsonpcornershop-frontend-test"]||[]).push([[0],{61:function(e,t,a){e.exports=a.p+"static/media/icon.6fa90141.svg"},64:function(e,t,a){e.exports=a.p+"static/media/paper_note.4ccdd3f0.svg"},65:function(e,t,a){e.exports=a(96)},95:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(12),r=a.n(l),o=a(11),u=a(23),i=a(6),s=a(19),m=a.n(s),E="http://".concat(window.location.hostname,":3001/api/v1/counter"),d=function(){return function(e){e({type:"FETCH_COUNT_REQUEST"}),m.a.get(E).then((function(t){e(function(e){return{type:"FETCH_COUNT_SUCCESS",payload:e}}(t.data))})).catch((function(t){return e(function(e){return{type:"FETCH_COUNT_ERROR",payload:e}}("No connection"))}))}},f=function(e){return function(t){t({type:"INCREMENT_VALUE_REQUEST"}),m.a.post("".concat(E,"/inc/"),{id:e}).then((function(e){return t(function(e){return{type:"INCREMENT_VALUE_SUCCESs",payload:e}}(e.data))})).catch((function(e){return t(function(e){return{type:"INCREMENT_VALUE_ERROR",payload:e}}("No connection, error: ".concat(e)))}))}},p=function(e){return function(t){t({type:"DECREMENT_VALUE_REQUEST"}),m.a.post("".concat(E,"/dec/"),{id:e}).then((function(e){return t(function(e){return{type:"DECREMENT_VALUE_SUCCESS",payload:e}}(e.data))})).catch((function(e){return t(function(e){return{type:"DECREMENT_VALUE_ERROR",payload:e}}("No connection, error: ".concat(e)))}))}},b=function(e){return function(t){t({type:"ADD_COUNTER_REQUEST"}),m.a.post(E,{title:e}).then((function(e){return t(function(e){return{type:"ADD_COUNTER_SUCCESS",payload:e}}(e.data))})).catch((function(e){return t(function(e){return{type:"ADD_COUNTER_ERROR",payload:e}}("No connection"))}))}},C=function(e){return function(t){t({type:"DELETE_COUNTER_REQUEST"}),m.a.delete(E,{data:{id:e}}).then((function(e){t(function(e){return{type:"DELETE_COUNTER_SUCCESS",payload:e}}(e.data))})).catch((function(e){return t(function(e){return{type:"DELETE_COUNTER_ERROR",payload:e}}("No connection ".concat(e)))}))}},O={loading:!1,loadingInternal:!1,error:"",errorChangeValue:"",errorAddCounter:"",errorDeleteCounter:"",counts:null,message:""},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COUNT_REQUEST":return Object(i.a)(Object(i.a)({},e),{},{loading:!0,message:"Fetch count request"});case"FETCH_COUNT_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{loading:!1,counts:""===t.payload?null:t.payload,message:"Fetch count success"});case"FETCH_COUNT_ERROR":return Object(i.a)(Object(i.a)({},e),{},{counts:null,error:t.payload,message:"Fetch count error"});case"INCREMENT_VALUE_REQUEST":return Object(i.a)(Object(i.a)({},e),{},{loadingInternal:!0,message:"Increment value request"});case"INCREMENT_VALUE_SUCCESs":return e.counts.map((function(e){return e.id===t.payload.id&&(e.count=t.payload.count),null})),Object(i.a)(Object(i.a)({},e),{},{loadingInternal:!1,counts:e.counts,message:"Increment value success"});case"INCREMENT_VALUE_ERROR":return Object(i.a)(Object(i.a)({},e),{},{errorChangeValue:t.payload,message:"Increment value error"});case"DECREMENT_VALUE_REQUEST":return Object(i.a)(Object(i.a)({},e),{},{loadingInternal:!0,message:"Decrement value request"});case"DECREMENT_VALUE_SUCCESS":return e.counts.map((function(e){return e.id===t.payload.id&&(e.count=t.payload.count),null})),Object(i.a)(Object(i.a)({},e),{},{loadingInternal:!1,counts:e.counts,message:"Decrement value success"});case"DECREMENT_VALUE_ERROR":return Object(i.a)(Object(i.a)({},e),{},{errorChangeValue:t.payload,message:"Decrement value error"});case"ADD_COUNTER_REQUEST":return Object(i.a)(Object(i.a)({},e),{},{loadingInternal:!0,message:"Add counter request"});case"ADD_COUNTER_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{counts:e.counts.concat(t.payload),loadingInternal:!1,message:"Add counter success"});case"ADD_COUNTER_ERROR":return Object(i.a)(Object(i.a)({},e),{},{loadingInternal:!1,errorAddCounter:t.payload,message:"Add counter error"});case"DELETE_COUNTER_REQUEST":return Object(i.a)(Object(i.a)({},e),{},{message:"Delete counter request"});case"DELETE_COUNTER_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{counts:e.counts.filter((function(e){return e.id!==t.payload})),message:"Delete counter success"});case"DELETE_COUNTER_ERROR":return Object(i.a)(Object(i.a)({},e),{},{errorDeleteCounter:t.payload,message:"Delete counter error"});default:return{state:e,message:"Default"}}},g=Object(u.combineReducers)({api_reducer:h}),y=a(59),j=a(60),N=Object(u.createStore)(g,Object(y.composeWithDevTools)(Object(u.applyMiddleware)(j.a))),S=a(62),R=a(37),v=a(7),_=a(61),T=a.n(_),x=a(101),U=a(63),k=a(102),D=function(){return c.a.createElement(S.a,{id:"welcome"},c.a.createElement(x.a,null,c.a.createElement(U.a,{className:"d-flex flex-column justify-content-center text-center mb-3"},c.a.createElement(k.a,{src:T.a,alt:"Counter"}))),c.a.createElement(x.a,null,c.a.createElement(U.a,{className:"d-flex flex-column justify-content-center text-center mt-3 mb-3"},c.a.createElement("h2",null,"Welcome to Counters"),c.a.createElement("p",null,"Capture cups of lattes, frapuccinos, or anything else that can be counted."))),c.a.createElement(x.a,null,c.a.createElement(U.a,{className:"text-center mt-3"},c.a.createElement(R.b,{to:"/counter",className:"btn btn-primary"},"Get Started"))))},w=a(9),F=a(111),I=a(113),A=a(106),L=a(107),M=a(103),V=function(){return c.a.createElement(S.a,{className:"d-flex flex-column justify-content-center align-items-center h-100"},c.a.createElement(x.a,null,c.a.createElement(U.a,{className:"loading-spinner d-flex flex-column justify-content-center align-items-center"},c.a.createElement(M.a,{className:"d-flex flex-column justify-content-center align-items-center",animation:"grow",variant:"primary",role:"status"},c.a.createElement(M.a,{className:"d-flex flex-column justify-content-center align-items-center",animation:"grow",variant:"primary",role:"status"},c.a.createElement(M.a,{className:"d-flex flex-column justify-content-center align-items-center",animation:"grow",variant:"primary",role:"status",size:"sm"},c.a.createElement("span",{className:"sr-only"},"Loading...")))))))},H=a(110),Q=function(e){var t=Object(o.c)((function(e){return e.api_reducer})),a=Object(n.useState)(!1),l=Object(w.a)(a,2),r=l[0],u=l[1];return Object(n.useEffect)((function(){t.counts&&(0===t.counts.length?u(!0):u(!1))}),[t]),c.a.createElement(H.a,{className:"search-bar"},c.a.createElement(H.a.Group,{controlId:"formBasicEmail"},c.a.createElement(H.a.Label,{className:"d-none"},"Search"),c.a.createElement(H.a.Control,{disabled:r,type:"search","aria-label":"Search",placeholder:"\ud83d\udd0d Search Counters",onChange:function(t){e.onChange(t.target.value)}})))},B=function(e){var t=Object(o.b)(),a=Object(n.useState)(e.item.count),l=Object(w.a)(a,2),r=l[0],u=l[1],i=Object(n.useState)(!1),s=Object(w.a)(i,2),m=s[0],E=s[1];return c.a.createElement(F.a.Item,{key:e.item.id,onClick:function(){E(!m),e.handleClick()},className:"counter-item d-flex justify-content-between align-items-center mb-1 ".concat(m?"item-selected":null)},c.a.createElement("p",{className:"p-0 m-0 counter-name"},e.item.title),c.a.createElement("div",{className:"d-flex align-items-center counter-actions"},c.a.createElement("button",{"aria-label":"Decrease Counter value",className:"btn-calculation",onClick:function(){t(p(e.item.id)),u(r-1),e.handleClick("dec")}},"-"),c.a.createElement("p",{className:"p-0 m-0"},r),c.a.createElement("button",{"aria-label":"Increase Counter value",className:"btn-calculation",onClick:function(){t(f(e.item.id)),u(r+1),e.handleClick("inc")}},"+")))},q=function(){return c.a.createElement("div",{className:"d-flex flex-column justify-content-center align-content-center flex-wrap h-100"},c.a.createElement("h2",{className:"text-center"},"No counters yet"),c.a.createElement("p",{className:"text-center"},"\u201cWhen I started counting my blessings, my whole life turned around.\u201d \u2014Willie Nelson"))},G=function(){return c.a.createElement("div",{className:"d-flex flex-column justify-content-center align-content-center flex-wrap h-100"},c.a.createElement("h2",{className:"text-center"},"Couldn\u2019t load the counters"),c.a.createElement("p",{className:"text-center"},"The Internet connection appears to be offline."),c.a.createElement(I.a,{variant:"light"},"Retry"))},z=a(109),W=a(104),J=function(e){return c.a.createElement(z.a,{show:e.exampleModal,onHide:function(){e.clickFunction()},animation:!1,dialogClassName:"modal-100w modal-100h"},c.a.createElement(z.a.Header,{closeButton:!0},c.a.createElement(I.a,{"aria-label":"Close",className:"modal-close",variant:"secondary",onClick:function(){e.clickFunction()}},c.a.createElement(W.a,null)),c.a.createElement(z.a.Title,null,c.a.createElement("h2",null,"Examples"))),c.a.createElement(z.a.Body,null,c.a.createElement("p",null,"Select an example to add it to your counters."),c.a.createElement(n.Fragment,null,[{name:"Drinks",chips:[{title:"Cups of coffee"},{title:"Glasses of water"},{title:"Martinis"}]},{name:"Food",chips:[{title:"Hot-dogs"},{title:"Cupcakes eaten"},{title:"Chicken wings"}]},{name:"Misc",chips:[{title:"Times sneezed"},{title:"Naps"},{title:"Daydreaming"}]}].map((function(t){return c.a.createElement(n.Fragment,{key:t.name},c.a.createElement("div",{className:"chip-wrapper"},c.a.createElement("h5",null,t.name),t.chips.map((function(t){return c.a.createElement(I.a,{key:t.title,className:"chip",variant:"secondary","aria-pressed":"true",onClick:function(){var a;a=t.title,e.parentCallback(a),e.clickFunction()}},t.title)}))))})))))},K=function(e){var t=Object(o.b)(),a=Object(n.useState)(!1),l=Object(w.a)(a,2),r=l[0],u=l[1],i=Object(n.useState)(""),s=Object(w.a)(i,2),m=s[0],E=s[1];return Object(n.useEffect)((function(){}),[m]),c.a.createElement(z.a,{show:e.modal,onHide:e.clickFunction,animation:!1,dialogClassName:"modal-100w modal-100h"},c.a.createElement(z.a.Header,{closeButton:!0},c.a.createElement(I.a,{"aria-label":"Close",className:"modal-close",variant:"secondary",onClick:e.clickFunction},c.a.createElement(W.a,null)),c.a.createElement(z.a.Title,null,c.a.createElement("h2",null,"Create a Counter")),c.a.createElement(I.a,{"aria-label":"Save",variant:"primary",value:m||"",onClick:function(a){a.target.value,t(b(m)),e.clickFunction()}},"Save")),c.a.createElement(z.a.Body,null,c.a.createElement(H.a,null,c.a.createElement(H.a.Group,{controlId:"newCounter"},c.a.createElement(H.a.Label,null,c.a.createElement("h4",null,"Name")),c.a.createElement(H.a.Control,{type:"text",value:m||"",onChange:function(e){E(e.target.value)},placeholder:"Cups of Coffee"}),c.a.createElement(H.a.Text,{className:"text-muted"},"Give it a name. Creative block?",c.a.createElement(I.a,{"aria-label":"See Examples",className:"no-shadow p-0 m-0",variant:"link",onClick:function(){return u(!0)}},"See examples"),c.a.createElement(J,{exampleModal:r,parentCallback:function(e){return function(e){E(e)}(e)},clickFunction:function(){u(!1)}}))))))},P=function(e){var t=Object(o.b)();return c.a.createElement(z.a,{size:"sm",show:e.modal,onHide:e.clickFunction,animation:!1,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},c.a.createElement(z.a.Body,{className:"text-center"},c.a.createElement("h4",null,'Delete the "',e.name,'" counter?'),c.a.createElement("p",null,"This cannot be undone."),c.a.createElement(I.a,{"aria-label":"Cancel",variant:"primary",onClick:e.clickFunction},"Cancel"),c.a.createElement(I.a,{variant:"secondary",onClick:function(){e.id,t(C(e.id)),e.clickFunction()}},"Delete")))},X=function(e){var t=Object(o.b)(),a=Object(n.useState)(!0),l=Object(w.a)(a,2),r=l[0],u=l[1];return c.a.createElement(z.a,{size:"sm",show:r,onHide:e.clickFunction,animation:!1,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},c.a.createElement(z.a.Body,{className:"text-center"},c.a.createElement("h4",null,'Couldn\u2019t delete "',e.name,'"'),c.a.createElement("p",null,"The Internet connection appears to be offline."),c.a.createElement(I.a,{variant:"secondary",onClick:function(){e.id,t(C(e.id)),u(!1)}},"Retry"),c.a.createElement(I.a,{"aria-label":"Cancel",variant:"primary",onClick:function(){return u(!1)}},"Dismiss")))},Y=function(e){return c.a.createElement("div",null,c.a.createElement("p",{className:"list-recap"},c.a.createElement("strong",null,1===e.data.length?"".concat(e.data.length," item"):"".concat(e.data.length," items"))," ",c.a.createElement("strong",null,1===e.total?"".concat(e.total," time"):"".concat(e.total," times"))))},Z=a(108),$=a(112),ee=a(105),te=a(64),ae=a.n(te),ne=function(e){return c.a.createElement(Z.a,{rootClose:!0,trigger:"click",key:"top",placement:"top",transition:!1,overlay:c.a.createElement($.a,{id:"popover-positioned-top",className:"share-popover"},c.a.createElement($.a.Content,null,c.a.createElement(x.a,null,c.a.createElement(U.a,null,c.a.createElement("p",null,c.a.createElement("strong",null,"Share 1 counter")),c.a.createElement(I.a,{"aria-label":"Share Counter",variant:"light",onClick:function(){return e.handleSelected()}},e.text)),c.a.createElement(U.a,null,c.a.createElement(k.a,{src:ae.a,alt:"Share"})))))},(function(e){var t=Object.assign({},e);return c.a.createElement(I.a,Object.assign({"aria-label":"Copy Counter to clipboard",className:"d-flex pl-3 pr-3",variant:"light"},t),c.a.createElement(ee.a,null))}))},ce=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.api_reducer}));Object(n.useEffect)((function(){e(d())}),[e]);var a=Object(n.useState)(""),l=Object(w.a)(a,2),r=l[0],u=l[1],i=Object(n.useState)(!1),s=Object(w.a)(i,2),m=s[0],E=s[1],f=Object(n.useState)([]),p=Object(w.a)(f,2),b=p[0],C=p[1],O=Object(n.useState)(0),h=Object(w.a)(O,2),g=h[0],y=h[1],j=Object(n.useState)(),N=Object(w.a)(j,2),R=N[0],v=N[1],_=Object(n.useState)(""),T=Object(w.a)(_,2),k=T[0],D=T[1],M=Object(n.useState)("Copy"),H=Object(w.a)(M,2),z=H[0],W=H[1],J=Object(n.useState)(!1),Z=Object(w.a)(J,2),$=Z[0],ee=Z[1],te=Object(n.useState)(!1),ae=Object(w.a)(te,2),ce=ae[0],le=ae[1],re=function(e,t){v(e),D(t)};return Object(n.useEffect)((function(){if(t.counts){C(t.counts.filter((function(e){return e.title.toLowerCase().includes(r.toLowerCase())})));var e=t.counts.reduce((function(e,t){return e+t.count}),0);y(e)}}),[r,t]),c.a.createElement(n.Fragment,null,c.a.createElement(S.a,{id:"main",className:"pt-3 pb-3"},c.a.createElement(x.a,{id:"main-row",className:"d-flex flex-column align-content-stretch flex-wrap"},c.a.createElement(U.a,{id:"main-header",className:"d-flex flex-column justify-content-center text-center"},c.a.createElement("header",null,c.a.createElement(Q,{onChange:function(e){return u(t=e),void(t&&E(!0));var t}}))),c.a.createElement(U.a,{id:"main-body"},t.loading&&!t.error?c.a.createElement(V,null):null,t.error?c.a.createElement(G,null):null,t.loading?null:c.a.createElement("section",null,c.a.createElement(F.a,null,t.counts&&t.counts.length?c.a.createElement(n.Fragment,null,c.a.createElement(Y,{data:t.counts,total:g}),m?b.map((function(e){return c.a.createElement(B,{handleClick:function(){re(e.id,e.title)},key:e.id,item:e})})):t.counts.map((function(e){return c.a.createElement(B,{handleClick:function(){re(e.id,e.title)},key:e.id,item:e})}))):c.a.createElement(q,null)))),c.a.createElement(U.a,null,c.a.createElement("footer",null,c.a.createElement("hr",null),c.a.createElement(S.a,null,c.a.createElement(x.a,null,R?c.a.createElement(U.a,{xs:8},c.a.createElement("div",{className:"d-flex justify-content-start"},c.a.createElement(x.a,null,c.a.createElement(U.a,null,c.a.createElement(I.a,{"aria-label":"Delete Counter",variant:"light",className:"d-flex pl-3 pr-3",onClick:function(){return le(!0)}},c.a.createElement(A.a,{color:"red"})),c.a.createElement(P,{id:R,name:k,modal:ce,clickFunction:function(){le(!1)}}),t.errorDeleteCounter&&c.a.createElement(X,{name:k,modal:ce})),c.a.createElement(U.a,null,c.a.createElement(ne,{handleSelected:function(){navigator.clipboard.writeText(k).then((function(){W("Copied!")})).catch((function(e){console.log("Something went wrong",e)}))},text:z,itemSelected:k}))))):null,c.a.createElement(U.a,null,c.a.createElement("div",{className:"d-flex justify-content-end"},c.a.createElement(I.a,{"aria-label":"Create Counter",className:"d-flex pl-3 pr-3",onClick:function(){return ee(!0)}},c.a.createElement(L.a,null)),c.a.createElement(K,{modal:$,clickFunction:function(){ee(!1)}}))))))))))},le=function(){return c.a.createElement(R.a,null,c.a.createElement("main",null,c.a.createElement(v.c,null,c.a.createElement(v.a,{exact:!0,path:"/",component:D}),c.a.createElement(v.a,{path:"/counter",component:ce}))))},re=function(){return c.a.createElement(S.a,null,c.a.createElement(le,null))};a(95);r.a.render(c.a.createElement(o.a,{store:N},c.a.createElement(re,null)),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.717a8903.chunk.js.map