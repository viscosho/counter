(this["webpackJsonpcornershop-frontend-test"]=this["webpackJsonpcornershop-frontend-test"]||[]).push([[0],{61:function(e,t,a){e.exports=a.p+"static/media/icon.6fa90141.svg"},64:function(e,t,a){e.exports=a.p+"static/media/paper_note.4ccdd3f0.svg"},65:function(e,t,a){e.exports=a(96)},95:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(12),r=a.n(l),o=a(9),i=a(23),u=a(6),s=a(19),m=a.n(s),E="http://".concat(window.location.hostname,":3001/api/v1/counter"),d=function(){return function(e){e({type:"FETCH_COUNT_REQUEST"}),m.a.get(E).then((function(t){e(function(e){return{type:"FETCH_COUNT_SUCCESS",payload:e}}(t.data))})).catch((function(t){return e(function(e){return{type:"FETCH_COUNT_ERROR",payload:e}}("No connection"))}))}},f=function(e){return function(t){t({type:"INCREMENT_VALUE_REQUEST"}),m.a.post("".concat(E,"/inc/"),{id:e}).then((function(e){return t(function(e){return{type:"INCREMENT_VALUE_SUCCESs",payload:e}}(e.data))})).catch((function(e){return t(function(e){return{type:"INCREMENT_VALUE_ERROR",payload:e}}("No connection, error: ".concat(e)))}))}},p=function(e){return function(t){t({type:"DECREMENT_VALUE_REQUEST"}),m.a.post("".concat(E,"/dec/"),{id:e}).then((function(e){return t(function(e){return{type:"DECREMENT_VALUE_SUCCESS",payload:e}}(e.data))})).catch((function(e){return t(function(e){return{type:"DECREMENT_VALUE_ERROR",payload:e}}("No connection, error: ".concat(e)))}))}},b=function(e){return function(t){t({type:"ADD_COUNTER_REQUEST"}),m.a.post(E,{title:e}).then((function(e){return t(function(e){return{type:"ADD_COUNTER_SUCCESS",payload:e}}(e.data))})).catch((function(e){return t(function(e){return{type:"ADD_COUNTER_ERROR",payload:e}}("No connection"))}))}},C=function(e){return function(t){t({type:"DELETE_COUNTER_REQUEST"}),m.a.delete(E,{data:{id:e}}).then((function(e){t(function(e){return{type:"DELETE_COUNTER_SUCCESS",payload:e}}(e.data))})).catch((function(e){return t(function(e){return{type:"DELETE_COUNTER_ERROR",payload:e}}("No connection ".concat(e)))}))}},O={loading:!1,loadingInternal:!1,error:"",errorChangeValue:"",errorAddCounter:"",errorDeleteCounter:"",counts:null,message:""},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_COUNT_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{loading:!0,message:"Fetch count request"});case"FETCH_COUNT_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{loading:!1,counts:""===t.payload?null:t.payload,message:"Fetch count success"});case"FETCH_COUNT_ERROR":return Object(u.a)(Object(u.a)({},e),{},{counts:null,error:t.payload,message:"Fetch count error"});case"INCREMENT_VALUE_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{loadingInternal:!0,message:"Increment value request"});case"INCREMENT_VALUE_SUCCESs":return e.counts.map((function(e){return e.id===t.payload.id&&(e.count=t.payload.count),null})),Object(u.a)(Object(u.a)({},e),{},{loadingInternal:!1,counts:e.counts,message:"Increment value success"});case"INCREMENT_VALUE_ERROR":return Object(u.a)(Object(u.a)({},e),{},{errorChangeValue:t.payload,message:"Increment value error"});case"DECREMENT_VALUE_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{loadingInternal:!0,message:"Decrement value request"});case"DECREMENT_VALUE_SUCCESS":return e.counts.map((function(e){return e.id===t.payload.id&&(e.count=t.payload.count),null})),Object(u.a)(Object(u.a)({},e),{},{loadingInternal:!1,counts:e.counts,message:"Decrement value success"});case"DECREMENT_VALUE_ERROR":return Object(u.a)(Object(u.a)({},e),{},{errorChangeValue:t.payload,message:"Decrement value error"});case"ADD_COUNTER_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{loadingInternal:!0,message:"Add counter request"});case"ADD_COUNTER_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{counts:e.counts.concat(t.payload),loadingInternal:!1,message:"Add counter success"});case"ADD_COUNTER_ERROR":return Object(u.a)(Object(u.a)({},e),{},{loadingInternal:!1,errorAddCounter:t.payload,message:"Add counter error"});case"DELETE_COUNTER_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{message:"Delete counter request"});case"DELETE_COUNTER_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{counts:e.counts.filter((function(e){return e.id!==t.payload})),message:"Delete counter success"});case"DELETE_COUNTER_ERROR":return Object(u.a)(Object(u.a)({},e),{},{errorDeleteCounter:t.payload,message:"Delete counter error"});default:return{state:e,message:"Default"}}},y=Object(i.combineReducers)({api_reducer:h}),j=a(59),N=a(60),g=Object(i.createStore)(y,Object(j.composeWithDevTools)(Object(i.applyMiddleware)(N.a))),v=a(62),S=a(37),R=a(8),x=a(61),_=a.n(x),T=a(101),k=a(63),U=a(102),D=function(){return c.a.createElement(v.a,{id:"welcome"},c.a.createElement(T.a,null,c.a.createElement(k.a,{className:"d-flex flex-column justify-content-center text-center mb-3"},c.a.createElement(U.a,{src:_.a,alt:"Counter"}))),c.a.createElement(T.a,null,c.a.createElement(k.a,{className:"d-flex flex-column justify-content-center text-center mt-3 mb-3"},c.a.createElement("h2",null,"Welcome to Counters"),c.a.createElement("p",null,"Capture cups of lattes, frapuccinos, or anything else that can be counted."))),c.a.createElement(T.a,null,c.a.createElement(k.a,{className:"text-center mt-3"},c.a.createElement(S.b,{to:"/counter",className:"btn btn-primary"},"Get Started"))))},w=a(7),F=a(112),I=a(114),A=a(107),L=a(108),M=a(103),V=function(){return c.a.createElement(v.a,{className:"loading d-flex flex-column justify-content-center align-items-center"},c.a.createElement(T.a,null,c.a.createElement(k.a,{className:"loading-spinner d-flex flex-column justify-content-center align-items-center"},c.a.createElement(M.a,{className:"d-flex flex-column justify-content-center align-items-center",animation:"grow",variant:"primary",role:"status"},c.a.createElement(M.a,{className:"d-flex flex-column justify-content-center align-items-center",animation:"grow",variant:"primary",role:"status"},c.a.createElement(M.a,{className:"d-flex flex-column justify-content-center align-items-center",animation:"grow",variant:"primary",role:"status",size:"sm"},c.a.createElement("span",{className:"sr-only"},"Loading...")))))))},H=a(111),B=function(e){var t=Object(o.c)((function(e){return e.api_reducer})),a=Object(n.useState)(!1),l=Object(w.a)(a,2),r=l[0],i=l[1],u=Object(n.useState)(!1),s=Object(w.a)(u,2),m=s[0],E=s[1];return Object(n.useEffect)((function(){t.counts&&(0===t.counts.length?i(!0):i(!1))}),[t]),c.a.createElement(H.a,{className:"search-bar d-flex"},c.a.createElement(H.a.Group,{controlId:"search",className:"mb-0"},c.a.createElement(H.a.Label,{className:"d-none"},"Search"),c.a.createElement(H.a.Control,{disabled:r,type:"search","aria-label":"Search",placeholder:"\ud83d\udd0d Search Counters",onFocus:function(){E(!0)},onChange:function(t){e.onChange(t.target.value)}})),m&&c.a.createElement(I.a,{variant:"light",className:"ml-3"},"Cancel"))},Q=function(e){var t=Object(o.b)(),a=Object(n.useState)(e.item.count),l=Object(w.a)(a,2),r=l[0],i=l[1],u=Object(n.useState)(!1),s=Object(w.a)(u,2),m=s[0],E=s[1];return c.a.createElement(F.a.Item,{key:e.item.id,onClick:function(){E(!m),e.handleClick()},className:"counter-item d-flex justify-content-between align-items-center mb-1 count-".concat(r," ").concat(m?"item-selected":"")},c.a.createElement("p",{className:"p-0 m-0 counter-name"},e.item.title),c.a.createElement("div",{className:"d-flex align-items-center counter-actions"},c.a.createElement("button",{"aria-label":"Decrease Counter value",className:"btn-calculation",onClick:function(){t(p(e.item.id)),i(r-1),e.handleClick("dec")}},"-"),c.a.createElement("p",{className:"p-0 m-0"},r),c.a.createElement("button",{"aria-label":"Increase Counter value",className:"btn-calculation",onClick:function(){t(f(e.item.id)),i(r+1),e.handleClick("inc")}},"+")))},z=function(){return c.a.createElement("div",{className:"no-counters p-3 d-flex flex-column justify-content-center align-content-center flex-wrap"},c.a.createElement("h2",{className:"text-center"},"No counters yet"),c.a.createElement("p",{className:"text-center"},"\u201cWhen I started counting my blessings, my whole life turned around.\u201d \u2014Willie Nelson"))},q=function(){var e=Object(o.b)();return c.a.createElement("div",{className:"no-connection p-3 d-flex flex-column justify-content-center align-content-center flex-wrap"},c.a.createElement("h2",{className:"text-center"},"Couldn\u2019t load the counters"),c.a.createElement("p",{className:"text-center"},"The Internet connection appears to be offline."),c.a.createElement(T.a,null,c.a.createElement(k.a,{md:{span:4,offset:4},className:"d-flex flex-column justify-content-center align-content-center"},c.a.createElement(I.a,{variant:"light",onClick:function(){e(d())}},"Retry"))))},G=a(110),W=a(104),P=function(e){return c.a.createElement(G.a,{show:e.exampleModal,onHide:function(){e.clickFunction()},animation:!1,dialogClassName:"modal-100w modal-100h"},c.a.createElement(G.a.Header,{closeButton:!0},c.a.createElement(I.a,{"aria-label":"Close",className:"modal-close",variant:"secondary",onClick:function(){e.clickFunction()}},c.a.createElement(W.a,null)),c.a.createElement(G.a.Title,null,c.a.createElement("h2",null,"Examples"))),c.a.createElement(G.a.Body,null,c.a.createElement("p",null,"Select an example to add it to your counters."),c.a.createElement(n.Fragment,null,[{name:"Drinks",chips:[{title:"Cups of coffee"},{title:"Glasses of water"},{title:"Martinis"}]},{name:"Food",chips:[{title:"Hot-dogs"},{title:"Cupcakes eaten"},{title:"Chicken wings"}]},{name:"Misc",chips:[{title:"Times sneezed"},{title:"Naps"},{title:"Daydreaming"}]}].map((function(t){return c.a.createElement(n.Fragment,{key:t.name},c.a.createElement("div",{className:"chip-wrapper"},c.a.createElement("h5",null,t.name),t.chips.map((function(t){return c.a.createElement(I.a,{key:t.title,className:"chip",variant:"secondary","aria-pressed":"true",onClick:function(){var a;a=t.title,e.parentCallback(a),e.clickFunction()}},t.title)}))))})))))},J=function(e){var t=Object(o.b)(),a=Object(n.useState)(!1),l=Object(w.a)(a,2),r=l[0],i=l[1],u=Object(n.useState)(""),s=Object(w.a)(u,2),m=s[0],E=s[1];return Object(n.useEffect)((function(){}),[m]),c.a.createElement(G.a,{show:e.modal,onHide:e.clickFunction,animation:!1,dialogClassName:"modal-100w modal-100h"},c.a.createElement(G.a.Header,null,c.a.createElement(I.a,{"aria-label":"Close",className:"modal-close mr-3",variant:"secondary",onClick:e.clickFunction},c.a.createElement(W.a,null)),c.a.createElement(G.a.Title,null,c.a.createElement("h2",{className:"mr-3"},"Create a Counter")),c.a.createElement(I.a,{"aria-label":"Save",variant:"primary",value:m||"",onClick:function(a){a.target.value,t(b(m)),e.clickFunction()}},"Save")),c.a.createElement(G.a.Body,null,c.a.createElement(H.a,null,c.a.createElement(H.a.Group,{controlId:"newCounter"},c.a.createElement(H.a.Label,null,c.a.createElement("h4",null,"Name")),c.a.createElement(H.a.Control,{type:"text",value:m||"",onChange:function(e){E(e.target.value)},placeholder:"Cups of Coffee"}),c.a.createElement(H.a.Text,{className:"text-muted"},"Give it a name. Creative block?",c.a.createElement(I.a,{"aria-label":"See Examples",className:"no-shadow p-0 m-0",variant:"link",onClick:function(){return i(!0)}},"See examples"),c.a.createElement(P,{exampleModal:r,parentCallback:function(e){return function(e){E(e)}(e)},clickFunction:function(){i(!1)}}))))))},K=function(e){var t=Object(o.b)();return c.a.createElement(G.a,{size:"sm",show:e.modal,onHide:e.clickFunction,animation:!1,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},c.a.createElement(G.a.Body,{className:"text-center"},c.a.createElement("h4",null,'Delete the "',e.name,'" counter?'),c.a.createElement("p",null,"This cannot be undone."),c.a.createElement("div",{className:"d-flex justify-content-around"},c.a.createElement(I.a,{"aria-label":"Cancel",variant:"primary",onClick:e.clickFunction},"Cancel"),c.a.createElement(I.a,{variant:"light",className:"danger-text",onClick:function(){e.id,t(C(e.id)),e.clickFunction()}},"Delete"))))},X=function(e){var t=Object(o.b)(),a=Object(n.useState)(!0),l=Object(w.a)(a,2),r=l[0],i=l[1];return c.a.createElement(G.a,{size:"sm",show:r,onHide:e.clickFunction,animation:!1,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},c.a.createElement(G.a.Body,{className:"text-center"},c.a.createElement("h4",null,'Couldn\u2019t delete "',e.name,'"'),c.a.createElement("p",null,"The Internet connection appears to be offline."),c.a.createElement("div",{className:"d-flex justify-content-around"},c.a.createElement(I.a,{variant:"secondary",onClick:function(){e.id,t(C(e.id)),i(!1)}},"Retry"),c.a.createElement(I.a,{"aria-label":"Cancel",variant:"primary",onClick:function(){return i(!1)}},"Dismiss"))))},Y=function(e){var t=Object(o.b)(),a=Object(n.useState)(!0),l=Object(w.a)(a,2),r=l[0],i=l[1];return c.a.createElement(G.a,{size:"sm",show:r,onHide:e.clickFunction,animation:!1,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},c.a.createElement(G.a.Body,{className:"text-center"},c.a.createElement("h4",null,'Couldn\u2019t update "',e.name,'"'),c.a.createElement("p",null,"The Internet connection appears to be offline."),c.a.createElement("div",{className:"d-flex justify-content-around"},c.a.createElement(I.a,{variant:"secondary",onClick:function(){e.id,t(f(e.id))}},"Retry"),c.a.createElement(I.a,{"aria-label":"Cancel",variant:"primary",onClick:function(){return i(!1)}},"Dismiss"))))},Z=function(e){var t=Object(n.useState)(!0),a=Object(w.a)(t,2),l=a[0],r=a[1];return c.a.createElement(G.a,{size:"sm",show:l,onHide:e.clickFunction,animation:!1,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},c.a.createElement(G.a.Body,{className:"text-center"},c.a.createElement("h4",null,"Couldn\u2019t create counter"),c.a.createElement("p",null,"The Internet connection appears to be offline."),c.a.createElement("div",{className:"d-flex justify-content-center"},c.a.createElement(I.a,{"aria-label":"Cancel",variant:"primary",onClick:function(){return r(!1)}},"Dismiss"))))},$=a(105),ee=function(e){var t=Object(o.c)((function(e){return e.api_reducer}));return c.a.createElement("div",null,c.a.createElement("p",{className:"list-recap"},c.a.createElement("strong",{className:"mr-1"},1===e.data.length?"".concat(e.data.length," item"):"".concat(e.data.length," items"))," ",c.a.createElement("span",{className:"mr-1"},1===e.total?"".concat(e.total," time"):"".concat(e.total," times")),t.loadingInternal?c.a.createElement(n.Fragment,null,c.a.createElement($.a,{color:"#ff9500"})," ",c.a.createElement("span",{className:"primary-color"},"Refreshing...")):c.a.createElement($.a,null)))};var te=a(109),ae=a(113),ne=a(106),ce=a(64),le=a.n(ce),re=function(e){var t=function(){var e=Object(n.useState)(!1),t=Object(w.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){var e="undefined"===typeof window.navigator?"":navigator.userAgent,t=Boolean(e.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i));c(t)}),[]),{isMobile:a}}().isMobile;return c.a.createElement(te.a,{rootClose:!0,trigger:"click",key:"top",placement:"top",transition:!1,overlay:c.a.createElement(ae.a,{id:"popover-positioned-top",className:"share-popover"},c.a.createElement(ae.a.Content,null,!t&&c.a.createElement(T.a,null,c.a.createElement(k.a,null,c.a.createElement("p",null,c.a.createElement("strong",null,"Share 1 counter")),c.a.createElement(I.a,{"aria-label":"Share Counter",variant:"light",onClick:function(){return e.handleSelected()}},e.text)),c.a.createElement(k.a,null,c.a.createElement(U.a,{src:le.a,alt:"Share"}))),t&&c.a.createElement("p",null,"Can't share this on a phone")))},(function(e){var t=Object.assign({},e);return c.a.createElement(I.a,Object.assign({"aria-label":"Copy Counter to clipboard",className:"icon-btn share-btn d-flex pl-3 pr-3",variant:"light"},t),c.a.createElement(ne.a,null))}))},oe=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.api_reducer}));Object(n.useEffect)((function(){e(d())}),[e]);var a=Object(n.useState)(""),l=Object(w.a)(a,2),r=l[0],i=l[1],u=Object(n.useState)(!1),s=Object(w.a)(u,2),m=s[0],E=s[1],f=Object(n.useState)([]),p=Object(w.a)(f,2),b=p[0],C=p[1],O=Object(n.useState)(0),h=Object(w.a)(O,2),y=h[0],j=h[1],N=Object(n.useState)(),g=Object(w.a)(N,2),S=g[0],R=g[1],x=Object(n.useState)(""),_=Object(w.a)(x,2),U=_[0],D=_[1],M=Object(n.useState)("Copy"),H=Object(w.a)(M,2),G=H[0],W=H[1],P=Object(n.useState)(!1),$=Object(w.a)(P,2),te=$[0],ae=$[1],ne=Object(n.useState)(!1),ce=Object(w.a)(ne,2),le=ce[0],oe=ce[1],ie=function(e,t){R(e),D(t)};return Object(n.useEffect)((function(){if(t.counts){C(t.counts.filter((function(e){return e.title.toLowerCase().includes(r.toLowerCase())})));var e=t.counts.reduce((function(e,t){return e+t.count}),0);j(e)}}),[r,t]),c.a.createElement(n.Fragment,null,c.a.createElement(v.a,{id:"main",className:"p-0 pt-3 pb-3"},c.a.createElement(T.a,{id:"main-row",className:"d-flex flex-column flex-wrap"},c.a.createElement(k.a,{id:"main-header",className:"text-center"},c.a.createElement("header",null,c.a.createElement(B,{onChange:function(e){return i(t=e),void(t&&E(!0));var t}}))),c.a.createElement(k.a,{id:"main-body",className:"pt-2"},t.loading&&!t.error?c.a.createElement(V,null):null,t.error?c.a.createElement(q,null):null,t.errorChangeValue&&c.a.createElement(Y,{name:U}),t.errorAddCounter&&c.a.createElement(Z,null),t.loading?null:c.a.createElement("section",null,c.a.createElement(F.a,{className:m&&0===b.length?"no-results":""},t.counts&&t.counts.length?c.a.createElement(n.Fragment,null,c.a.createElement(ee,{data:t.counts,total:y}),m?b.map((function(e){return c.a.createElement(Q,{handleClick:function(){ie(e.id,e.title)},key:e.id,item:e})})):t.counts.map((function(e){return c.a.createElement(Q,{handleClick:function(){ie(e.id,e.title)},key:e.id,item:e})})),0===b.length&&c.a.createElement("p",null,"No Results")):c.a.createElement(z,null)))),c.a.createElement(k.a,{id:"main-footer"},c.a.createElement("footer",null,c.a.createElement("hr",null),c.a.createElement(v.a,null,c.a.createElement(T.a,null,S?c.a.createElement(k.a,{xs:8},c.a.createElement("div",{className:"d-flex justify-content-start"},c.a.createElement(T.a,null,c.a.createElement(k.a,null,c.a.createElement(I.a,{"aria-label":"Delete Counter",variant:"light",className:"icon-btn dlt-btn d-flex pl-3 pr-3",onClick:function(){return oe(!0)}},c.a.createElement(A.a,{color:"red"})),c.a.createElement(K,{id:S,name:U,modal:le,clickFunction:function(){oe(!1)}}),t.errorDeleteCounter&&c.a.createElement(X,{name:U,modal:le})),c.a.createElement(k.a,null,c.a.createElement(re,{handleSelected:function(){navigator.clipboard.writeText(U).then((function(){W("Copied!")})).catch((function(e){console.log("Something went wrong",e)}))},text:G,itemSelected:U}))))):null,c.a.createElement(k.a,null,c.a.createElement("div",{className:"d-flex justify-content-end"},c.a.createElement(I.a,{"aria-label":"Create Counter",className:"icon-btn p-0 d-flex pl-3 pr-3",onClick:function(){return ae(!0)}},c.a.createElement(L.a,null)),c.a.createElement(J,{modal:te,clickFunction:function(){ae(!1)}}))))))))))},ie=function(){return c.a.createElement(S.a,null,c.a.createElement("main",null,c.a.createElement(R.c,null,c.a.createElement(R.a,{exact:!0,path:"/",component:D}),c.a.createElement(R.a,{path:"/counter",component:oe}))))},ue=function(){return c.a.createElement(v.a,null,c.a.createElement(ie,null))};a(95);r.a.render(c.a.createElement(o.a,{store:g},c.a.createElement(ue,null)),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.5346cbde.chunk.js.map